<header>
  <h1 class="sr-only">{{ "currentTab" | i18n }}</h1>
  <div class="left">
    <!-- <app-pop-out [show]="!inSidebar"></app-pop-out> -->
    <button
      type="button"
      appBlurClick
      (click)="refresh()"
      appA11yTitle="{{ 'refresh' | i18n }}"
      *ngIf="inSidebar"
    >
      <i class="fa fa-retweet fa-lg fa-fw" aria-hidden="true"></i>
    </button>
    <button type="button" appBlurClick (click)="back()">
      <span class="header-icon" title="{{ 'back' | i18n }}"
        ><i class="icon-cozy icon-back"></i
      ></span>
    </button>
  </div>
  <div class="search" (click)="back()">
    <i class="fa fa-search"></i>
    <div id="search-tag">
      <span id="search-tag-text">{{ "forThisWebSite" | i18n }}</span>
      <span>X</span>
    </div>
    <input
      type="{{ searchTypeSearch ? 'search' : 'text' }}"
      placeholder=""
      id="search"
      [(ngModel)]="searchText"
      (input)="searchVault()"
      autocomplete="off"
      appAutofocus
      (keydown)="closeOnEsc($event)"
    />
    <i class="fa fa-close" aria-hidden="true" (click)="back()"></i>
  </div>
  <div class="right">
    <button (click)="openWebApp()" appA11yTitle="{{ 'popOutNewWindow' | i18n }}">
      <i class="icon-cozy icon-out-w" aria-hidden="true"></i>
    </button>
    <button appBlurClick (click)="addLoginCipher()" appA11yTitle="{{ 'addItem' | i18n }}">
      <i class="icon-cozy icon-plus" aria-hidden="true"></i>
    </button>
  </div>
</header>
<content>
  <div class="no-items" *ngIf="!loaded">
    <i class="fa fa-spinner fa-spin fa-3x" aria-hidden="true"></i>
  </div>
  <ng-container *ngIf="loaded">
    <div class="box list">
      <h2 class="box-header">
        {{ "typeLogins" | i18n }}
      </h2>
      <div class="box-content">
        <app-cipher-row
          *ngFor="let loginCipher of loginCiphers"
          [cipher]="loginCipher"
          title="{{ 'viewItem' | i18n }}"
          [showView]="true"
          (onSelected)="viewCipher($event)"
          (onView)="viewCipher($event)"
          (onAutofill)="fillCipher(loginCipher)"
        >
        </app-cipher-row>
        <div class="box-content-row padded no-hover" *ngIf="loginCiphers && !loginCiphers.length">
          <p class="text-center">{{ "autoFillInfo" | i18n }}</p>
          <button type="button" class="btn link block" (click)="addLoginCipher()">
            {{ "addLogin" | i18n }}
          </button>
        </div>
      </div>
    </div>
    <div class="box list">
      <h2 class="box-header">
        {{ "cards" | i18n }}
      </h2>
      <div class="box-content">
        <app-cipher-row
          *ngFor="let cardCipher of cardCiphers"
          [cipher]="cardCipher"
          title="{{ 'viewItem' | i18n }}"
          [showView]="true"
          (onSelected)="viewCipher($event)"
          (onView)="viewCipher($event)"
          (onAutofill)="fillCipher(cardCipher)"
        ></app-cipher-row>
        <div class="box-content-row padded no-hover" *ngIf="cardCiphers && !cardCiphers.length">
          <p class="text-center">{{ "addCardExplanation" | i18n }}</p>
          <button type="button" class="btn link block" (click)="addCardCipher()">
            {{ "addCard" | i18n }}
          </button>
        </div>
      </div>
    </div>
    <div class="box list">
      <h2 class="box-header">
        {{ "identities" | i18n }}
      </h2>
      <div class="box-content">
        <app-cipher-row
          *ngFor="let identityCipher of identityCiphers"
          [cipher]="identityCipher"
          title="{{ 'viewItem' | i18n }}"
          [showView]="true"
          (onSelected)="viewCipher($event)"
          (onView)="viewCipher($event)"
          (onAutofill)="fillCipher(identityCipher)"
        ></app-cipher-row>
        <div
          class="box-content-row padded no-hover"
          *ngIf="identityCiphers && !identityCiphers.length"
        >
          <p class="text-center">{{ "addIdentityExplanation" | i18n }}</p>
          <button type="button" class="btn link block" (click)="addIdentityCipher()">
            {{ "addIdentity" | i18n }}
          </button>
        </div>
      </div>
    </div>
  </ng-container>
</content>
